<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>اطلب موقعك — Shlool Web</title>
  <meta name="description" content="اطلب موقعك الآن: اختر الميزات والمدة. نرجع لك بعرض خلال وقت قصير.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#1f1f1f; --card:#262626; --surface:#202020;
      --blue:#0a84ff; --blue-2:#40b3ff;
      --whatsapp:#25D366; --whatsapp-2:#128C7E;
      --ig1:#f58529; --ig2:#dd2a7b; --ig3:#8134af; --ig4:#515bd4;
      --text:#e9ecf1; --muted:#b7c0cc;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:16px; --max:1100px;
    }

    /* أساسيات */
    *{ box-sizing:border-box }
    html, body { width:100%; overflow-x:hidden; }
    body{
      margin:0; font-family:"Cairo",system-ui,-apple-system,Segoe UI,Roboto,Arial;
      -webkit-text-size-adjust:100%; /* يمنع تكبير الخط التلقائي */
      background:
        radial-gradient(1200px 800px at 80% -100px, rgba(64,179,255,.12), transparent 60%),
        linear-gradient(180deg, #1b1b1b, var(--bg));
      color:var(--text); line-height:1.7;
    }
    img, video, canvas { max-width:100%; height:auto; display:block }
    a{ color:var(--blue); text-decoration:none }

    .wrap{ max-width:var(--max); width:100%; margin:auto; padding:28px 20px }

    /* ترويسة */
    header{
      position:sticky; top:0; z-index:40;
      background:rgba(0,0,0,.55); /* خلفية ثابتة بدل backdrop-filter للموبايل */
      border-bottom:1px solid rgba(255,255,255,.08);
      box-shadow:0 6px 20px rgba(0,0,0,.25);
      will-change: transform; /* طبقة مستقلة لتقليل الجليتش */
      transform: translateZ(0);
    }
    /* نعيد الـblur على الشاشات الواسعة فقط */
    @media (min-width:1201px){
      header{
        -webkit-backdrop-filter:saturate(1.2) blur(8px);
        backdrop-filter:saturate(1.2) blur(8px);
        background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.0));
      }
    }
    .nav{ max-width:var(--max); width:100%; margin:auto; padding:14px 20px; display:flex; align-items:center; gap:14px }
    .logo{ display:flex; align-items:center; gap:10px; color:var(--text); font-weight:800 }
    .logo-img{ height:52px; width:auto; border-radius:10px; box-shadow:var(--shadow); display:block }
    .nav-gap{ flex:1 }

    /* أزرار */
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:12px 16px; border-radius:12px;
      background:linear-gradient(135deg,var(--blue),var(--blue-2));
      color:#fff; font-weight:700; box-shadow:var(--shadow);
      transition:transform .15s ease, box-shadow .2s ease; border:0; cursor:pointer; text-align:center;
      min-width:0;
    }
    .btn:hover{ transform:translateY(-2px); box-shadow:0 16px 40px rgba(10,132,255,.25) }
    .btn-outline{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,.16) }
    .btn-whatsapp{ background:linear-gradient(135deg,var(--whatsapp),var(--whatsapp-2)); color:#fff }
    .btn-whatsapp:hover{ box-shadow:0 16px 40px rgba(18,140,126,.28) }
    .btn-ig{ background:linear-gradient(135deg,var(--ig4),var(--ig3),var(--ig2),var(--ig1)); color:#fff }
    .btn-ig:hover{ box-shadow:0 16px 40px rgba(221,42,123,.28) }

    /* هيرو */
    .hero{
      display:grid; grid-template-columns:1.05fr .95fr;
      gap:24px; align-items:stretch; padding-block:28px
    }
    .hero > * { min-width:0; } /* يمنع توسيع الشبكة */

    .title{ font-size:clamp(28px, 4vw, 44px); line-height:1.2; margin:0 0 10px; font-weight:800 }
    .subtitle{ color:var(--muted); font-size:clamp(16px,2.2vw,18px); margin:0 0 14px }
    .badge{
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px;
      border-radius:999px; background:rgba(10,132,255,.12); color:var(--blue);
      font-weight:700; margin-bottom:12px; border:1px solid rgba(64,179,255,.25)
    }

    /* بطاقات وشبكات */
    .panel{ background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow); width:100% }
    .grid-2{ display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px }
    .grid-3{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:12px }

    /* حقول */
    label{ font-weight:700; margin-bottom:6px; display:block }
    input, select, textarea{
      width:100%; min-width:0; padding:12px 12px; border-radius:12px; background:#1f1f1f;
      border:1px solid rgba(255,255,255,.08); color:var(--text); font:inherit; outline:none;
      transition:border-color .15s ease, box-shadow .15s ease;
      font-size:16px; /* يمنع تكبير/تصغير تلقائي على الموبايل */
    }
    input:focus, select:focus, textarea:focus{ border-color:var(--blue); box-shadow:0 0 0 3px rgba(10,132,255,.15) }
    .hint{ color:var(--muted); font-size:13px; margin-top:6px }

    /* قائمة الميزات */
    .choices{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px; }
    .choices label{
      font-weight:600; display:flex; align-items:center; gap:10px; line-height:1.6;
      padding:10px 12px; border:1px solid rgba(255,255,255,.12); border-radius:10px; background:rgba(255,255,255,.02);
    }
    .choices input[type="checkbox"]{ width:18px; height:18px; accent-color:var(--blue); }

    /* إجراءات */
    .actions{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:flex-start; margin-top:14px }

    /* Estimator */
    .estimator{ display:flex; align-items:center; justify-content:space-between; gap:14px }
    .estimate-pill{
      padding:8px 12px; border-radius:999px; background:rgba(10,132,255,.12);
      border:1px solid rgba(64,179,255,.25); color:#fff; font-weight:800
    }
    .small{ color:var(--muted); font-size:13px }

    /* فوتر */
    footer{
      background:var(--surface); border-top:1px solid rgba(255,255,255,.08);
      box-shadow:0 -6px 20px rgba(0,0,0,.25); margin-top:40px;
    }
    .footer-inner{ max-width:var(--max); width:100%; margin:auto; padding:22px 20px; display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap }
    .brand{ opacity:.7 }
    .dev{ font-weight:800 }

    /* ظهور ناعم */
    .reveal{ opacity:0; transform:translateY(16px); transition:opacity .6s ease, transform .6s ease }
    .reveal.show{ opacity:1; transform:none }

    /* موافقة الخصوصية */
    .agree{ display:inline-flex; align-items:center; gap:10px }
    .agree input[type="checkbox"]{ width:18px; height:18px; accent-color:var(--blue) }

    /* ===== استجابة قوية للموبايل حتى 1200px ===== */
    @media (max-width:1200px){
      :root{ --max:100%; }
      .wrap{ max-width:100vw; padding:24px 16px; }
      .hero{ grid-template-columns:1fr !important; display:block; } /* fallback لو grid عمل glitch */
      .hero > * { width:100%; }
      .grid-2,.grid-3{ grid-template-columns:1fr !important; }
      .choices{ grid-template-columns:1fr; }
      .nav{ padding:12px 16px; }
      .logo-img{ height:44px; }
    }

    @media (max-width:480px){
      .actions{ gap:8px; }
      .btn{ padding:12px 14px; }
    }
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <div class="logo">
        <img class="logo-img" src="cover.jpg" alt="Shlool Web">
        <span>Shlool <span style="color:var(--blue)">Web</span></span>
      </div>
      <div class="nav-gap"></div>
      <a class="btn-outline btn" href="index.html" aria-label="العودة للرئيسية">العودة للرئيسية</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="hero">
      <div>
        <div class="badge">طلب موقع جديد ✨</div>
        <h1 class="title">خلّينا نبني لك موقع <span style="color:var(--blue)">يناسب بزنسك</span></h1>
        <p class="subtitle">عبّي الطلب أدناه — نراجع التفاصيل ونرجع لك بعرض سعر وخطة عمل خلال وقت قصير.</p>
        <div class="actions" style="margin-top:10px">
          <a class="btn btn-whatsapp" href="https://wa.me/962790986908" target="_blank" rel="noopener">تواصل واتساب</a>
          <a class="btn btn-ig" href="https://instagram.com/shlool_web" target="_blank" rel="noopener" aria-label="التواصل عبر إنستجرام">إنستجرام</a>
          <a class="btn" href="mailto:mshlool684@gmail.com">راسلني عبر الإيميل</a>
        </div>
      </div>

      <div class="panel reveal">
        <h3 style="margin:0 0 10px">ليش معنا؟</h3>
        <ul style="margin:0; padding-inline-start:18px; color:var(--muted)">
          <li>تسليم خلال أقل من أسبوع للمواقع الصغيرة.</li>
          <li>تصميم متوافق مع الجوال وسريع الأداء.</li>
          <li>نماذج تواصل تصل للإيميل + زر واتساب مباشر.</li>
          <li>إعداد دومين واستضافة (اختياري).</li>
        </ul>
      </div>
    </section>

    <!-- نموذج طلب موقع -->
    <section class="panel reveal" aria-label="طلب موقع">
      <h2 style="margin-top:0">نموذج طلب موقع</h2>
      <p class="hint">الحقول المعلَّمة بـ (*) مطلوبة. الإرسال يتم عبر واتساب أو بريد — بدون أي باك-إند.</p>

      <form id="siteForm" novalidate>
        <!-- HoneyPot لمكافحة السبام -->
        <input id="hp" name="website" type="text" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;opacity:0" aria-hidden="true">

        <!-- معلومات أساسية -->
        <div class="grid-3">
          <div>
            <label for="fullName">الاسم الكامل *</label>
            <input id="fullName" required placeholder="مثال: محمد الشلول">
          </div>
          <div>
            <label for="phone">الهاتف / واتساب *</label>
            <input id="phone" required placeholder="مثال: 0790 986 908">
          </div>
          <div>
            <label for="email">البريد الإلكتروني *</label>
            <input id="email" type="email" required placeholder="example@email.com">
          </div>
        </div>

        <div class="grid-3" style="margin-top:12px">
          <div>
            <label for="business">اسم النشاط (اختياري)</label>
            <input id="business" placeholder="مثال: Falafel House">
          </div>
          <div>
            <label for="industry">القطاع</label>
            <select id="industry">
              <option value="">اختر…</option>
              <option>مطاعم وكافيهات</option>
              <option>عيادات ومراكز طبية</option>
              <option>شركات وبزنس</option>
              <option>متاجر إلكترونية</option>
              <option>شخصي/بورتفوليو</option>
              <option>تعليمي/تدريب</option>
              <option>غير ذلك</option>
            </select>
          </div>
          <div>
            <label for="currentSite">موقع حالي (إن وجد)</label>
            <input id="currentSite" type="url" placeholder="https://example.com">
          </div>
        </div>

        <!-- نوع الموقع المطلوب -->
        <div style="margin-top:16px">
          <label for="siteType">نوع الموقع الذي تريده *</label>
          <select id="siteType" required>
            <option value="">اختر نوع الموقع…</option>
            <option>موقع مطعم (منيو + QR)</option>
            <option>موقع عيادة (حجز مواعيد)</option>
            <option>موقع شركة/تعريفي</option>
            <option>متجر إلكتروني</option>
            <option>بورتفوليو شخصي</option>
            <option>صفحة هبوط</option>
            <option>آخر</option>
          </select>
          <p class="hint">سنضبط التصميم والمحتوى حسب النوع المختار.</p>
        </div>

        <!-- ميزات مطلوبة -->
        <div style="margin-top:10px">
          <label>الميزات المطلوبة (اختَر ما يلزم)</label>
          <div class="choices" id="featureChoices">
            <label><input type="checkbox" value="منيو أونلاين وQR"> منيو أونلاين وQR</label>
            <label><input type="checkbox" value="طلبات أونلاين بسيطة"> طلبات أونلاين بسيطة</label>
            <label><input type="checkbox" value="حجز مواعيد إلى الإيميل"> حجز مواعيد إلى الإيميل</label>
            <label><input type="checkbox" value="نموذج تواصل إلى الإيميل"> نموذج تواصل إلى الإيميل</label>
            <label><input type="checkbox" value="زر واتساب مباشر"> زر واتساب مباشر</label>
            <label><input type="checkbox" value="خرائط جوجل وموقع الفرع"> خرائط جوجل وموقع الفرع</label>
            <label><input type="checkbox" value="تعدد اللغات"> تعدد اللغات</label>
            <label><input type="checkbox" value="مدونة/مقالات"> مدونة/مقالات</label>
            <label><input type="checkbox" value="معرض صور/أعمال"> معرض صور/أعمال</label>
            <label><input type="checkbox" value="دفع أونلاين"> دفع أونلاين</label>
            <label><input type="checkbox" value="تأمين دومين واستضافة"> تأمين دومين واستضافة</label>
            <label><input type="checkbox" value="تحسين سرعة وSEO أساسي"> تحسين سرعة وSEO أساسي</label>
          </div>
        </div>

        <!-- الباقة المقترحة -->
        <div class="panel estimator reveal" id="estimator" style="margin-top:12px">
          <div>
            <strong>الباقة المقترحة:</strong>
            <span id="recName" class="estimate-pill">—</span>
            <span class="small" id="recReason"></span>
          </div>
          <div>
            <span class="small">سعر مبدئي:</span>
            <strong id="recPrice">—</strong>
          </div>
        </div>

        <!-- تفضيلات تصميم وهوية -->
        <div class="grid-3" style="margin-top:16px">
          <div>
            <label for="brandColor">اللون الأساسي المفضّل</label>
            <input id="brandColor" type="color" value="#0a84ff" style="height:44px;padding:4px">
          </div>
          <div>
            <label for="stylePref">ستايل التصميم</label>
            <select id="stylePref">
              <option value="">اختر…</option>
              <option>مودرن وبسيط</option>
              <option>كلاسيك/رسمي</option>
              <option>داكن</option>
              <option>فاتح</option>
            </select>
          </div>
          <div>
            <label for="assetsLink">رابط ملفات المحتوى</label>
            <input id="assetsLink" type="url" placeholder="Drive / Dropbox link">
          </div>
        </div>

        <!-- مواقع مرجعية + وقت التواصل -->
        <div class="grid-2" style="margin-top:12px">
          <div>
            <label for="ref1">موقع يعجبك (1)</label>
            <input id="ref1" type="url" placeholder="https://…">
          </div>
          <div>
            <label for="ref2">موقع يعجبك (2)</label>
            <input id="ref2" type="url" placeholder="https://…">
          </div>
        </div>

        <div class="grid-2" style="margin-top:12px">
          <div>
            <label for="contactTime">وقت التواصل المفضّل</label>
            <input id="contactTime" type="text" placeholder="مثال: 5–8 مساءً">
          </div>
          <div>
            <label for="contactPref">طريقة التواصل المفضلة</label>
            <select id="contactPref">
              <option value="">اختر…</option>
              <option>واتساب</option>
              <option>اتصال هاتفي</option>
              <option>بريد إلكتروني</option>
            </select>
          </div>
        </div>

        <!-- ملاحظات -->
        <div style="margin-top:16px">
          <label for="notes">ملاحظات إضافية</label>
          <textarea id="notes" rows="6" placeholder="اكتب أي تفاصيل إضافية ترغب بها: أقسام مطلوبة، ألوان، لغة ثانية، وغير ذلك…"></textarea>
        </div>

        <!-- سياسة خصوصية -->
        <div class="actions" style="margin-top:6px">
          <label class="agree">
            <input id="agree" type="checkbox" required>
            <span>أوافق على سياسة الخصوصية واستخدام بيانات التواصل للرد على الطلب.</span>
          </label>
        </div>

        <!-- إرسال -->
        <div class="actions">
          <button type="submit" class="btn btn-whatsapp"><span>إرسال عبر واتساب</span></button>
          <button type="button" id="sendEmail" class="btn btn-outline">إرسال عبر الإيميل</button>
          <button type="button" id="copySummary" class="btn btn-outline">نسخ الطلب</button>
          <a class="btn btn-outline" href="index.html">رجوع للرئيسية</a>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <div class="footer-inner">
      <div class="brand">© Shlool Web — جميع الحقوق محفوظة</div>
      <div style="display:flex; gap:10px; align-items:center">
        <div class="dev">تم التطوير من قبل محمد الشلول</div>
        <a class="btn btn-whatsapp" href="https://wa.me/962790986908" target="_blank" rel="noopener">واتساب: 0790986908</a>
      </div>
    </div>
  </footer>

  <script>
    // ظهور ناعم
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target); }
      });
    },{threshold:.08});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    /* ===== أدوات ===== */
    const $ = id => document.getElementById(id);

    // قراءة الميزات المختارة
    function getSelectedFeatures(){
      return Array.from(document.querySelectorAll('#featureChoices input:checked')).map(c=>c.value);
    }

    // توصية تلقائية للباقة والسعر
    function getRecommendation(){
      const f = getSelectedFeatures();
      let plan = 'الأساسية', price = '70 د.أ', reason = 'موقع تعريفي وميزات أساسية.';
      if (f.includes('دفع أونلاين')) {
        plan = 'المتقدمة';
        price = '270 د.أ';
        reason = 'يتضمن دفع أونلاين وتكاملات.';
      } else {
        const group = ['منيو أونلاين وQR','حجز مواعيد إلى الإيميل','طلبات أونلاين بسيطة','معرض صور/أعمال','مدونة/مقالات','تعدد اللغات','تأمين دومين واستضافة'];
        const count = f.filter(x=>group.includes(x)).length;
        if (count >= 2) {
          plan = 'برو';
          price = '170 د.أ';
          reason = `اخترت ${count} ميزات متقدمة.`;
        }
      }
      return {plan, price, reason};
    }

    function updateEstimator(){
      const r = getRecommendation();
      $('recName').textContent = r.plan;
      $('recPrice').textContent = r.price;
      $('recReason').textContent = r.reason;
    }
    document.querySelectorAll('#featureChoices input, #siteType').forEach(el=>{
      el.addEventListener('change', updateEstimator);
    });
    updateEstimator();

    // التقاط UTM من العنوان
    const utm = (() => {
      const p = new URLSearchParams(location.search);
      const keys = ['utm_source','utm_medium','utm_campaign','utm_content','utm_term'];
      const obj = {};
      keys.forEach(k=>{ if (p.get(k)) obj[k] = p.get(k); });
      return obj;
    })();

    // ملخص الطلب
    function buildSummary() {
      const name = $('fullName').value.trim();
      const phone = $('phone').value.trim();
      const email = $('email').value.trim();
      const business = $('business').value.trim();
      const industry = $('industry').value;
      const currentSite = $('currentSite').value.trim();
      const siteType = $('siteType').value;
      const features = getSelectedFeatures();
      const contactPref = $('contactPref').value;
      const notes = $('notes').value.trim();
      const contactTime = $('contactTime').value.trim();
      const stylePref = $('stylePref').value;
      const brandColor = $('brandColor').value;
      const assetsLink = $('assetsLink').value.trim();
      const refs = [ $('ref1').value.trim(), $('ref2').value.trim() ].filter(Boolean);
      const rec = getRecommendation();

      const lines = [];
      lines.push('طلب موقع جديد:');
      lines.push(`الاسم: ${name}`);
      lines.push(`الهاتف/واتساب: ${phone}`);
      lines.push(`البريد: ${email}`);
      if (business) lines.push(`النشاط: ${business}`);
      if (industry) lines.push(`القطاع: ${industry}`);
      if (currentSite) lines.push(`موقع حالي: ${currentSite}`);
      lines.push(`نوع الموقع: ${siteType || '-'}`);
      if (features.length) lines.push(`ميزات مطلوبة: ${features.join('، ')}`);
      if (stylePref) lines.push(`ستايل التصميم: ${stylePref}`);
      if (brandColor) lines.push(`لون العلامة: ${brandColor}`);
      if (assetsLink) lines.push(`رابط الملفات: ${assetsLink}`);
      if (refs.length) lines.push(`مواقع مرجعية: ${refs.join(' , ')}`);
      if (contactTime) lines.push(`وقت التواصل المفضّل: ${contactTime}`);
      if (contactPref) lines.push(`طريقة التواصل: ${contactPref}`);
      lines.push(`الباقة المقترحة: ${rec.plan} — سعر مبدئي: ${rec.price}`);
      if (notes) {
        lines.push('');
        lines.push('ملاحظات إضافية:');
        lines.push(notes);
      }
      if (Object.keys(utm).length){
        lines.push('');
        lines.push('وسوم UTM:');
        lines.push(JSON.stringify(utm));
      }
      return lines.join('\n');
    }

    function validateRequired() {
      const req = ['fullName','phone','email','siteType','agree'];
      let ok = true;
      req.forEach(id=>{
        const el = document.getElementById(id);
        if((el.type === 'checkbox' && !el.checked) || (el.type !== 'checkbox' && !el.value.trim())){
          ok = false;
          el.style.borderColor = '#ff6b6b';
          el.addEventListener('input', ()=> el.style.borderColor='rgba(255,255,255,.08)', {once:true});
        }
      });
      // HoneyPot
      if (document.getElementById('hp').value.trim()){
        ok = false;
        alert('تم إيقاف الإرسال (مرشح سبام).');
      }
      return ok;
    }

    // إرسال عبر واتساب
    document.getElementById('siteForm').addEventListener('submit', function(e){
      e.preventDefault();
      if(!validateRequired()) return;
      const text = encodeURIComponent(buildSummary());
      const url = `https://wa.me/962790986908?text=${text}`;
      window.open(url, '_blank');
    });

    // إرسال عبر الإيميل
    document.getElementById('sendEmail').addEventListener('click', function(){
      if(!validateRequired()) return;
      const body = encodeURIComponent(buildSummary());
      const subject = encodeURIComponent('طلب موقع جديد — Shlool Web');
      window.location.href = `mailto:mshlool684@gmail.com?subject=${subject}&body=${body}`;
    });

    // نسخ الملخص
    document.getElementById('copySummary').addEventListener('click', async function(){
      const txt = buildSummary();
      try {
        await navigator.clipboard.writeText(txt);
        alert('تم نسخ الطلب إلى الحافظة ✅');
      } catch {
        alert('لم نتمكّن من النسخ تلقائيًا. انسخ يدويًا بعد تحديد النص.');
      }
    });
  </script>
</body>
</html>
